<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!--Favicon-->
    <!-- Changed by me, before:href="favicon/favicon.ico", after:href="http://liuqingwen.me/favicon/favicon.ico"  -->
    <!-- Sample: <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> -->
    <link rel="icon" href="/favicon/favicon.ico" type="image/x-icon">
    
        <script>
            //added by my blog of "liuqingwen.me"
            var url = "anhognda.com";
            var host = window.location.host;
            if(host == url || host == "www." + url) {
                document.location.href = "http://" + host;
            }
        </script>
    

    <!-- MathJax supported added by me -->
    

    <!-- Keywords, added by me -->
    
        <meta name="keywords" content="刘庆文, 博客, Godot, 游戏开发, 文章教程, Java, Python, Kotlin, Android, iOS, Swift, 安卓开发, 学习">
    

    <!--Description-->
    
        <meta name="description" content="This is a simple blog use Hexo, called Liuqingwen&#39;s last blog, all about of interesting things of Kotlin, Web, Swift, Game, 3D and life.">
    

    <!--Author-->
    
        <meta name="author" content="Liuqingwen">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="MAC上使用Android Studio 3.0的Gradle问题小解"/>
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="A Vegetables Bird&#39;s Blog"/>

    <!--Page Cover-->
    
        <meta property="og:image" content=""/>
    

    <!-- Title -->
    
    <title>MAC上使用Android Studio 3.0的Gradle问题小解 - A Vegetables Bird&#39;s Blog</title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/sass/main.css">


    <!-- Custom CSS added by me -->
    
<link rel="stylesheet" href="/css/custom.css">

    <!-- Calendar CSS added by me -->
    
<link rel="stylesheet" href="/css/calendar.css">


    <!--[if lt IE 8]>
        
<script src="/js/ie/html5shiv.js"></script>

    <![endif]-->

    <!--[if lt IE 8]>
        
<link rel="stylesheet" href="/sass/ie8.css">

    <![endif]-->

    <!--[if lt IE 9]>
        
<link rel="stylesheet" href="/sass/ie9.css">

    <![endif]-->

    <!-- Gallery 
    <link href="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.css" type="text/css" rel="stylesheet" /> -->
    <link href="https://cdn.bootcss.com/featherlight/1.7.13/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Google Analytics -->
    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-97319413-1', 'auto');
        ga('send', 'pageview');

    </script>



<meta name="generator" content="Hexo 4.2.1"></head>

<body>

    <div id="wrapper">

        <!-- Menu -->
        <!-- Header -->
<header id="header">
    <!-- outer added by me, 2018-12-17, liuqingwen.me -->
    <div class="outer">
        <div>
            <ul>
                
                    <li>
                        <a href="/"><i class="fa fa-home fa-fw"></i>&nbsp;HOME</a>
                    </li>
                
                    <li>
                        <a href="/archives"><i class="fa fa-archive fa-fw"></i>&nbsp;ARCHIVES</a>
                    </li>
                
                    <li>
                        <a href="/tags"><i class="fa fa-tags fa-fw"></i>&nbsp;TAGS</a>
                    </li>
                
                    <li>
                        <a href="/about"><i class="fa fa-user fa-fw"></i>&nbsp;ABOUT</a>
                    </li>
                
                <li class="search">
                    <a href="/tags">
                        <span class="fa-stack"><i class="fa fa-square-o fa-stack-2x"></i><i class="fa fa-search fa-stack-1x"></i>&nbsp;
                        </span>SEARCH</a>
                </li>
            </ul>
        </div>
    </div>

    <div class="inner">

        <!-- Logo -->
        <!-- Changes: config.root variable added -->
        <a href="/" class="logo">
            <span class="symbol"><img src="/images/logo.png" alt="Logo" /></span>
            <span class="title">A Vegetables Bird's Blog</span>
        </a>

        <!-- Added the search icon -->
        <a href="/tags" class="logo" style="float: right; ">
            <span class="symbol"><i class="fa fa-search"></i></span>
            <!-- <img src="/tipuesearch/search.png" alt="Search" /> -->
        </a>

        <!-- Nav -->
        <nav>
            <ul>
                <li><a href="#menu">Menu</a></li>
            </ul>
        </nav>

    </div>
</header>

<!-- Menu -->
<nav id="menu">
    <h2>Menu</h2>
    <ul>
        
            <li>
                <a href="/">Home</a>
            </li>
        
            <li>
                <a href="/archives">Archives</a>
            </li>
        
            <li>
                <a href="/tags">Tags</a>
            </li>
        
            <li>
                <a href="/about">About</a>
            </li>
        
        <li style="color: #4cce18;">
            <!-- <a href="/tags">
                <span><img src="/tipuesearch/search.png" alt="Search" style="width: 2em; height: 2em; vertical-align: middle;" />Search</span>
            </a> -->
            <a href="/tags"><i class="fa fa-search"></i>&nbsp;Search Blog Content</a>
        </li>
    </ul>

    <!--Added by me, for calendar widget-->
    <div id="widget-calender-liuqingwen">
        <div class="widget tag">
    <h3 class="title">calendar</h3>
    <div id="calendar"></div>
</div>
    </div>
</nav>


        <div id="main">
            <div class="inner">

                <!-- Main Content -->
                

    
    <h1 class="title">MAC上使用Android Studio 3.0的Gradle问题小解</h1>
    <div class="meta">
        <span>2017-06-11</span>
        <span>  by Liuqingwen </span>
        
            <span> | Tags: <a href="/tags/Android/">Android</a> <a href="/tags/Gradle/">Gradle</a></span>
        
        <span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span> Hits</span>
        <!-- author added by me -->
    </div>



<!-- Gallery -->


<!-- Added by me..................for tipue search plugin -->
<div id="tipue_search_content" style="display: none"></div>

<!-- Content -->
<h2 id="一、问题"><a href="#一、问题" class="headerlink" title="一、问题"></a>一、问题</h2><p>Google I/O 大会后发布了最新的 Android Studio 3.0 预览版，其中新版本的新特性中直接支持我很想使用的 Kotlin 语言。今天开始认真学习安卓开发（ <img class="github-emoji"  title="joy" alt="joy" src="http://liuqingwen.me/images/emoji/joy.png" height="20" width="20" /> ），我就打算直接使用 Kotlin 语言在 AS 3.0 中写代码，简洁又高效。 <img class="github-emoji"  title="smiley" alt="smiley" src="http://liuqingwen.me/images/emoji/smiley.png" height="20" width="20" /></p>
<p>下载了 Mac 版本的 <a href="https://developer.android.com/studio/preview/index.html" target="_blank" rel="noopener">Android Studio 3.0 Canary 3</a> 后，发现新建项目后出现一些构建上的问题，主要是 AS 3.0 预览版构建工具使用的是 4.0 新版本的 <a href="https://gradle.org/" target="_blank" rel="noopener">Gradle</a> ，在工程项目文件： <code>gradle/wrapper/gradle-wrapper.properties</code> 中可以看到这一行：</p>
<figure class="highlight ini"><figcaption><span>gradle-wrapper.properties</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">distributionUrl</span>=https\://services.gradle.org/distributions/gradle-<span class="number">4.0</span>-milestone-<span class="number">1</span>-all.zip</span><br></pre></td></tr></table></figure>
<p>然后出现几个问题的错误信息包括：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Unable to load class <span class="string">'org.gradle.internal.event.ListenerBroadcast'</span></span><br><span class="line">Possible causes <span class="keyword">for</span> this unexpected error includes:</span><br><span class="line">    Gradle<span class="string">'s dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)</span></span><br><span class="line"><span class="string">    Re-download dependencies and sync project (requires network)</span></span><br><span class="line"><span class="string">    The state of a Gradle build process (daemon) may be corrupt. Stopping all Gradle daemons may solve this problem.</span></span><br><span class="line"><span class="string">    Stop Gradle build processes (requires restart)</span></span><br><span class="line"><span class="string">    Your project may be using a third-party plugin which is not compatible with the other plugins in the project or the version of Gradle requested by the project.</span></span><br><span class="line"><span class="string">In the case of corrupt Gradle processes, you can also try closing the IDE and then killing all Java processes.</span></span><br></pre></td></tr></table></figure>
<p>还有：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Failed to open zip file.</span><br><span class="line">Gradle<span class="string">'s dependency cache may be corrupt (this sometimes occurs after a network connection timeout).</span></span><br><span class="line"><span class="string">    Re-download dependencies and sync project (requires network)</span></span><br><span class="line"><span class="string">    Re-download dependencies and sync project (requires network)</span></span><br></pre></td></tr></table></figure>
<p>这些问题在网上随处可见，一般按照提示都能解决，但是<strong>我的不行！</strong>另外，在我后来 Windows 10 上使用 AS 3.0 时并没有出现这些 Gradle 相关的问题，构建一切正常！（除了长达一个小时的后台任务外 <img class="github-emoji"  title="joy" alt="joy" src="http://liuqingwen.me/images/emoji/joy.png" height="20" width="20" /> ），所以这些都是和系统上有相关的小问题，在网上 <a href="http://www.google.com/" target="_blank" rel="noopener">Google</a> 和 <a href="https://stackoverflow.com/" target="_blank" rel="noopener">Stackoverflow</a> 搜索后陆续解决。</p>
<h2 id="二、解决方法"><a href="#二、解决方法" class="headerlink" title="二、解决方法"></a>二、解决方法</h2><p>不仅仅是上面的构建问题，还有后面陆续出现的 Build 速度慢、 support 包不能用、 Genymotion 模拟器不会连接等等，都需要自己尝试解决，毕竟新手啊！</p>
<ul>
<li><strong>安装设置 Gradle Home</strong></li>
</ul>
<p>首先最基本的思路是查看本地 Gradle 是否安装。用过 Linux 系统的朋友很清楚，一个命令行就可以知道： <code>gradle -v</code> 这个命令能查看 Gradle 的版本，我的 Mac 显示 <code>no such command</code> ，所以先安装 Gradle ，参考<a href="https://gradle.org/install" target="_blank" rel="noopener">官网安装指导</a>，我用的 Homebrew ：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ brew install gradle</span><br></pre></td></tr></table></figure>
<p>这样安装好之后，一般 Gradle Home 也设置好了，我写此文的时候 Gradle 在我机器上的版本是 3.5 。 <img class="github-emoji"  title="smile" alt="smile" src="http://liuqingwen.me/images/emoji/smile.png" height="20" width="20" /></p>
<ul>
<li><strong>手动下载并手动设置</strong></li>
</ul>
<p>如果按照上面步骤安装好本地 Gradle 后在 Android Studio 中出现这种错误信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error:(1, 0) Minimum supported Gradle version is 4.0-milestone-1. Current version is 3.5.</span><br></pre></td></tr></table></figure>
<p>说明版本不适配 AS 3.0 中要求的 Gradle 版本，那么可以直接手动安装并解压到 <code>/usr/local/Cellar/gradle/&lt;your-version&gt;/</code> 下以备用，下载地址直接使用 <code>gradle-wrapper.properties</code> 中描述地地址，记得去掉 <code>\</code> 符号。</p>
<ul>
<li><strong>手动设置 Gradle 工作路径</strong></li>
</ul>
<p>按理来说，下载了相应版本后只要设置 <code>Gradle Home</code> 到新版本的路径就可以了，不过我没有，你可以尝试一下。</p>
<p>我采用的是直接在 Android Studio 3.0 预览版中单独设置 Gradle 的工作路径。在设置中： <code>Android Studio-&gt;Preferences...-&gt;Build, Execution, Deployment-&gt;Gradle</code> 选择 <code>Use local gradle distribution</code> 然后指定 <code>Gradle home</code> 为你下载解压路径。</p>
<p>OK 了，开始写代码吧！不过我还是碰到了一些不爽的问题，就像我上面描述的：Build 速度超慢、 support 包不能正确编译、 Genymotion 模拟器连接不上等。实际上这些都是小问题，但是这会难倒新手。</p>
<ul>
<li><strong>Build 速度、 support 包、 Genymotion 模拟器</strong></li>
</ul>
<p>解决办法很简单：</p>
<p><strong>1. 改进 Build 速度</strong></p>
<p>根目录 <code>build.gradle</code> 中设置本地仓库和<a href="http://maven.aliyun.com/nexus/content/groups/public" target="_blank" rel="noopener">阿里云仓库</a>：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mavenLocal()</span><br><span class="line">maven &#123; url <span class="string">'http://maven.aliyun.com/nexus/content/groups/public'</span> &#125;</span><br><span class="line">maven &#123; url <span class="string">'https://maven.google.com'</span> &#125;</span><br><span class="line">jcenter()</span><br><span class="line">mavenCentral()</span><br></pre></td></tr></table></figure>
<p><strong>2. 解决 support 包问题</strong></p>
<p>感觉 4.0 的 Gradle 还是变化挺大的，以前的 <code>compile</code> 变成了 <code>implementation</code> ，如果遇到编译期间出现的这个问题：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error:Failed to resolve: Could not resolve com.android.support:recyclerview-v7:25.4.0. Required by: ......</span><br></pre></td></tr></table></figure>
<p>那么直接在 <code>app</code> 目录下 <code>build.gradle</code> 中相应库引用位置添加注释： <code>//noinspection GradleCompatible</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//noinspection GradleCompatible</span><br><span class="line">implementation <span class="string">'com.android.support:recyclerview-v7:25.4.0'</span></span><br></pre></td></tr></table></figure>
<p>感觉这是个 Bug ，有时候又能用，奇怪。 <img class="github-emoji"  title="cold_sweat" alt="cold_sweat" src="http://liuqingwen.me/images/emoji/cold_sweat.png" height="20" width="20" /></p>
<p>另外我还遇到了一个问题： <code>implementation &#39;com.android.support:appcompat-v7:25.4.0&#39;</code> 还是不能用，不知道为什么，有朋友知道恳请留言指导，谢谢！</p>
<p><strong>3. 模拟器 Genymotion 连接调试</strong></p>
<p>这是个小问题，新手的话有必要提醒一下。如果不能正常连接 <a href="https://www.genymotion.com/" target="_blank" rel="noopener">Genymotion</a> 的模拟器，需要在模拟器中设置 SDK 为 <strong>Android SDK</strong> 。</p>
<p>在 <code>Settings-&gt;ADB</code> 下，选中设置 <code>Use custom Android SDK tools</code> 就可以了。</p>
<p>好了，一切就绪，愉快的 code 吧！ <img class="github-emoji"  title="sunglasses" alt="sunglasses" src="http://liuqingwen.me/images/emoji/sunglasses.png" height="20" width="20" /></p>
<h2 id="三、总结"><a href="#三、总结" class="headerlink" title="三、总结"></a>三、总结</h2><p>Gradle 还是很神奇的，目前它使用的 Groovy 语言，同时 Kotlin 语言版的 Gradle 也在进行中： <a href="https://github.com/gradle/gradle-script-kotlin" target="_blank" rel="noopener">gradle-script-kotlin</a> ，现在也有预览版可以尝鲜，我也正在尝试使用 Kotlin 版本的 Gradle ，可以参考这篇文章：<a href="https://medium.com/@arturogdg/using-gradle-script-kotlin-for-android-d6cd58c80d60" target="_blank" rel="noopener">Using Gradle Script Kotlin for Android</a> ，遗憾的是，还没有成功啊，暂时不折腾了，新手能力有限，慢慢来吧！ <img class="github-emoji"  title="grin" alt="grin" src="http://liuqingwen.me/images/emoji/grin.png" height="20" width="20" /></p>
<p>好吧，就这些小问题，也是对新手的一个考验，留下纪念。</p>
<blockquote>
<p>参考资料：<br>Install a Preview Version of Android Studio: <a href="https://developer.android.com/studio/preview/install-preview.html" target="_blank" rel="noopener">https://developer.android.com/studio/preview/install-preview.html</a><br>Gradle service version distributions: <a href="http://services.gradle.org/distributions/" target="_blank" rel="noopener">http://services.gradle.org/distributions/</a><br>Gradle Installation: <a href="https://gradle.org/install" target="_blank" rel="noopener">https://gradle.org/install</a><br>Using Gradle Script Kotlin for Android: <a href="https://medium.com/@arturogdg/using-gradle-script-kotlin-for-android-d6cd58c80d60" target="_blank" rel="noopener">https://medium.com/@arturogdg/using-gradle-script-kotlin-for-android-d6cd58c80d60</a><br>Android Studio - Error: Failed to resolve: com.android.support.constraint:constraint-layout:1.0.0-alpha1: <a href="https://stackoverflow.com/questions/40160968/android-studio-error-failed-to-resolve-com-android-support-constraintconstr" target="_blank" rel="noopener">https://stackoverflow.com/questions/40160968/android-studio-error-failed-to-resolve-com-android-support-constraintconstr</a><br>Android Studio doesn’t see genymotion<br>: <a href="https://stackoverflow.com/questions/27261474/android-studio-doesnt-see-genymotion" target="_blank" rel="noopener">https://stackoverflow.com/questions/27261474/android-studio-doesnt-see-genymotion</a><br>Gradle 使用 maven 镜像仓库的方法: <a href="https://my.oschina.net/abcfy2/783743" target="_blank" rel="noopener">https://my.oschina.net/abcfy2/783743</a></p>
</blockquote>
<hr>
<p class="ps" style="color: #f31a9a; font-weight: bold; font-size: 1.2em;"><br>PS (2017-08-25) ： 更新 Android Studio 从 Alpha 到 Beta 版本出问题： Gradle project refresh failed.<br>解决办法是 AS 中： Build &gt; Clean Project<br><blockquote>Known issue: If you have an existing Android Studio project that’s using an alpha version of Android plugin 3.0.0 (such as 3.0.0-alpha9), you may get the following error when you migrate to Android plugin 3.0.0-beta1 and sync your project: Gradle project refresh failed.<br>Resolve this issue selecting Build &gt; Clean Project from the menu bar—you need to perform this action only once for each project. You can then sync your project files with Gradle by clicking Sync Project from the toolbar.<br><br><a href="https://androidstudio.googleblog.com/2017/08/android-studio-30-beta-1.html" target="_blank">https://androidstudio.googleblog.com/2017/08/android-studio-30-beta-1.html</a><br></blockquote><br></p>

<!-- Tags -->



<div class="tags">
    <a href="/tags/Android/" class="button small">Android</a> <a href="/tags/Gradle/" class="button small">Gradle</a>
</div>



<!-- Pre-Next post added by me -->
<!-- Added by me, for pre-post and next-post links in post page -->

    <div class="prev_next clearfix">
      
        <a href="/2017/06/14/talking-about-Java-concurrency-with-lock-or-unlock/" class="alignleft prev" title="【转载】加锁还是不加锁，这是一个问题"><i class="fa fa-angle-double-left"></i>&nbsp;【转载】加锁还是不加锁，这是一个问题</a>
      
      
        &nbsp;<i class="fa fa-exchange separator"></i>&nbsp;
      
      
        <a href="/2017/06/03/what-do-17-GDEs-for-Android-think-about-Kotlin/" class="alignright next" title="【翻译】17位谷歌专家称号大牛如何看待Kotlin">【翻译】17位谷歌专家称号大牛如何看待Kotlin&nbsp;<i class="fa fa-angle-double-right"></i></a>
      
      <div class="clearfix"></div>
    </div>



<!-- Comments -->
<div>
    
    <hr />
    <h3>Comments:</h3>
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>
    </div>



</div>



            </div>
        </div>

        <!-- Footer -->
<footer id="footer">
    <div class="inner">
        <section>
            <h2>About</h2>
            <div>
                This theme was initially developed by <a href="http://html5up.net" target="_blank">HTML5 UP</a>. It is adapted for Hexo by <a href="http://www.codeblocq.com/" target="_blank">Jonathan Klughertz</a>. <br/>The source code is available on <a href="https://github.com/klugjo/hexo-theme-phantom" target="_blank">GitHub</a>. <br/><span id="busuanzi_container_site_pv">Total visits:&nbsp;<span id="busuanzi_value_site_pv"></span> , </span><span id="busuanzi_container_site_uv">Number of visitors:&nbsp;<span id="busuanzi_value_site_uv"></span> , staticstics powered by <a href="http://busuanzi.ibruce.info/" target="_blank" title="不蒜子统计">不蒜子</a></span> <br/>Blog post content:&nbsp;<a href="http://liuqingwen.me/tags"><span><i class="fa fa-search"></i>&nbsp;搜索博客内容</span></a>
            </div>
        </section>
        <section>
            <h2>Follow</h2>
            <ul class="icons">
                
                    <li><a href="https://twitter.com/SpkingR" class="icon style2 fa-twitter" target="_blank" ><span class="label">Twitter</span></a></li>
                
                
                
                
                
                    <li><a href="https://github.com/spkingr" class="icon style2 fa-github" target="_blank" ><span class="label">GitHub</span></a></li>
                
                
                    <li><a href="https://plus.google.com/u/0/101955667782244488142" class="icon style2 fa-google-plus" target="_blank" ><span class="label">Google+</span></a></li>
                
                
                
                
                    <li><a href="about/" class="icon style2 fa-envelope-o" target="_blank" ><span class="label">Email</span></a></li>
                
                
                    <li><a href="/atom.xml" class="icon style2 fa-rss" target="_blank" ><span class="label">RSS</span></a></li>
                
            </ul>
            <ul class="links">
                <!-- Added by me, settings in config file -->
                
                    <li><a href="https://zhuanlan.zhihu.com/godot" class="icon style2 zhihu" target="_blank" ><span class="label">知乎</span></a></li>
                
                
                    <li><a href="https://www.jianshu.com/u/756bad579149" class="icon style2 jianshu" target="_blank" ><span class="label">简书</span></a></li>
                
                
                    <li><a href="https://juejin.im/user/59d1d5b1f265da0656048d2b" class="icon style2 juejin" target="_blank" ><span class="label">掘金</span></a></li>
                
                
                    <li><a href="https://blog.csdn.net/SpkingR" class="icon style2 csdn" target="_blank" ><span class="label">CSDN</span></a></li>
                
                
                    <li><a href="https://www.indienova.com/u/liuqingwen" class="icon style2 indienova" target="_blank" ><span class="label">INDIE NOVA</span></a></li>
                
            </ul>
        </section>
        <ul class="copyright">
            <li>&copy; liuqingwen.me. All rights reserved</li>
            <li>Design: <a href="http://html5up.net" target="_blank">HTML5 UP</a></li>
            <li>Hexo: <a href="http://www.codeblocq.com/" target="_blank">Jonathan Klughertz</a></li>
            <li>About Me: <a href="/about">Liuqingwen</a></li>
            <li>备案号: <a href="http://www.beian.miit.gov.cn" target="_blank" rel="noopener">湘ICP备14005092号</a></li>
        </ul>
    </div>
</footer>
    </div>

    <!-- After footer scripts -->
    <!-- jQuery -->

<script src="/js/jquery.min.js"></script>


<!-- skel -->

<script src="/js/skel.min.js"></script>


<!-- Custom Code -->

<script src="/js/util.js"></script>


<!--[if lte IE 8]>

<script src="/js/ie/respond.min.js"></script>

<![endif]-->

<!-- Custom Code -->

<script src="/js/main.js"></script>

<!-- My Custom Code for add lazy-loading-image plugin -->

<script src="/scripts/echo.js"></script>


<script>
    echo.init({
        offset: 100,
        throttle: 250,
        unload: false,
        callback: function (element, op) {
            //Added by me!!! Help to display correctly in Mobile
            /*var entryContentWidth = $(element).width();
            if($(element).width() > entryContentWidth)
            {
                $(element).width("100%");
            }*/
            $(element).css({maxWidth: "100%"});
            // console.log(element, 'has been', op + 'ed');
        }
    });
  // echo.render(); is also available for non-scroll callbacks
</script>

<!-- Added for tipue search plugin....................... -->
<link href="/tipuesearch/css/tipuesearch.css" rel="stylesheet">
<script src="/tipuesearch/tipuesearch_set.js"></script>
<script src="/tipuesearch/tipuesearch.js"></script>
<script>
    $(document).ready(function () {
 
        var searchInput = $('#tipue_search_input');
        searchInput.tipuesearch({
            'mode': 'json',
            'minimumLength': 2,
            'contentLocation': '/tipuesearch/tipuesearch_content.json',
            highlightEveryTerm: true
        });
 
        $('#search-form').on('submit', function (e) {
            e.preventDefault();
            $('#tipue_search_content').show();
            $('#content').hide();
        });
 
        searchInput.keyup(function () {
            var length = $(this).val().length;
            if (length < 1) {
                $('#tipue_search_content').hide();
                $('#content').show();
            }
        });
    });
</script>

<!-- Gallery 
<script src="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.js" type="text/javascript" charset="utf-8"></script> -->
<script src="https://cdn.bootcss.com/featherlight/1.7.13/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->

<script type="text/javascript">
    var disqus_shortname = 'liuqingwen';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


<!-- Calendar -->
<!-- Add by me, the calendar plugin, from: http://howiefh.github.io/2016/04/29/hexo-s-calendar-plugin/ -->

    <script src="/js/calendar.js"></script>
    <script src="/js/languages.js"></script>
    <script type="text/javascript">
        $(function() {
            
                //The same in else! edited by me.....
                $('#calendar').aCalendar('zh-CN',{single:true, root:'calendar/'});
                
                
                    $('#calendar-sample').aCalendar('zh-CN',{single:true, root:'calendar/'});
                
                //Error in the below line:
                //$('#calendar').aCalendar('zh-CN', $.extend(JSON.parse('{"months":["January","February","March","April","May","June","July","August","September","October","November","December"],"dayOfWeekShort":["S","M","T","W","T","F","S"],"dayOfWeek":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"postsMonthTip":"Posts published in LMM yyyy","titleFormat":"yyyy LMM","titleLinkFormat":"/archives/yyyy/MM/","headArrows":{"previous":null,"next":null},"footArrows":{"previous":"«","next":"»"},"weekOffset":0,"single":true,"root":"/calendar/","url":"/calendar.json"}'), {single:true, root:'calendar/'});
            
        });
    </script>


<!-- Calculator of Blog Viewers -->
<!-- Added by me, http://ibruce.info/2015/04/04/busuanzi/ || http://busuanzi.ibruce.info/-->

    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



</body>

</html>